# Деплой Universal MCP Server

## Локальный запуск

```bash
# Через Docker Compose
docker-compose up --build

# Или локально
npm install
npm run build
npm start
```

## Деплой на Coolify

### 1. Переменные окружения

Настройте следующие переменные в Coolify:

```
NODE_ENV=production
PORT=8080
```

Если используются дополнительные сервисы, добавьте:

```
# Telegram Bot (если используется)
TELEGRAM_BOT_TOKEN=your_bot_token_here
TELEGRAM_CHAT_ID=your_chat_id_here

# Другие API ключи (по необходимости)
# API_KEY=your_api_key_here
```

### 2. Настройка в Coolify

1. Создайте новое приложение в Coolify
2. Подключите Git репозиторий
3. Выберите `Docker Compose` как метод сборки
4. Установите переменные окружения (указанные выше)
5. Убедитесь, что порт установлен как `8080` (или используйте переменную PORT)
6. Деплойте приложение

### 3. Проверка работы

После деплоя проверьте:
- `GET /` - информация о сервере
- `GET /sse` - SSE endpoint для MCP клиентов
- Health check должен показывать статус "healthy"

### 4. Использование

Настройте ваш MCP клиент на:
```
https://your-domain.com/sse
```

## Структура проекта

- `src/` - исходный код TypeScript
- `dist/` - скомпилированный JavaScript (создается при сборке)
- `docker-compose.yml` - конфигурация для Docker Compose
- `Dockerfile` - инструкции для сборки Docker образа

## Порты

- По умолчанию: `8080`
- Настраиваемый через переменную `PORT`
- В Coolify убедитесь, что используется правильный порт

## Логи

Для отладки проверяйте логи контейнера:
- Сообщения о загрузке инструментов
- Подключения SSE
- Обработка MCP запросов 